<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vigenère Cipher</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}
.container {
    background-color: white;
    padding: 20px 30px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    width: 400px;
}
h1 { text-align: center; margin-bottom: 20px; }
label { display: block; margin-top: 10px; }
input, textarea { width: 100%; padding: 8px; margin-top: 5px; border-radius: 5px; border: 1px solid #ccc; box-sizing: border-box; }
textarea { resize: none; height: 80px; }
.buttons { display: flex; justify-content: space-between; margin-top: 15px; flex-wrap: wrap; gap:5px; }
button { padding: 10px 15px; border: none; background-color: #007bff; color: white; border-radius: 5px; cursor: pointer; flex:1; }
button:hover { background-color: #0056b3; }
</style>
</head>
<body>
<div class="container">
    <h1>Vigenère Cipher</h1>

    <label>Keyword</label>
    <input type="text" id="keyword" placeholder="Enter keyword">

    <label>Input Text</label>
    <textarea id="inputText" placeholder="Enter text here"></textarea>

    <div class="buttons">
        <button onclick="encryptVigenere()">Encrypt</button>
        <button onclick="decryptVigenere()">Decrypt</button>
    </div>

    <label>Output Text</label>
    <textarea id="outputText" readonly></textarea>
</div>

<script>
// --- HELPER FUNCTION: clean input ---
function cleanText(text) {
    return text.toUpperCase().replace(/[^A-Z]/g,"");
}

// --- ENCRYPT ---
function encryptVigenere() {
    let keyword = cleanText(document.getElementById("keyword").value);
    let text = cleanText(document.getElementById("inputText").value);
    if (!keyword || !text) { alert("Enter keyword and text"); return; }

    let cipher = "";
    for (let i=0,j=0; i<text.length; i++, j++) {
        if (j >= keyword.length) j = 0;
        let shift = keyword.charCodeAt(j) - 65;
        let pt = text.charCodeAt(i) - 65;
        let ct = (pt + shift) % 26;
        cipher += String.fromCharCode(ct + 65);
    }

    document.getElementById("outputText").value = cipher;
}

// --- DECRYPT ---
function decryptVigenere() {
    let keyword = cleanText(document.getElementById("keyword").value);
    let text = cleanText(document.getElementById("inputText").value);
    if (!keyword || !text) { alert("Enter keyword and text"); return; }

    let plain = "";
    for (let i=0,j=0; i<text.length; i++, j++) {
        if (j >= keyword.length) j = 0;
        let shift = keyword.charCodeAt(j) - 65;
        let ct = text.charCodeAt(i) - 65;
        let pt = (ct - shift + 26) % 26;
        plain += String.fromCharCode(pt + 65);
    }

    document.getElementById("outputText").value = plain;
}
</script>
</body>
</html>
